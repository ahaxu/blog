<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="AhaXu - Personal blog about programming, Haskell, and technology" />
        <meta name="keywords" content="AhaXu, Haskell, programming, technology, blog" />
        
          <meta property="og:url" content="/posts/2023-02-09-en-comparison-of-functor-applicative-monad.html" />
          <meta property="og:title" content="(En) Comparision of functor, applicative and monad" />
          <meta property="og:description" content="Comparision of functor, applicative and monad" />
          <meta property="og:image" content="https://ahaxu.com/images/2022-08-28-hello-world-kyxuan.jpg" />
          <meta name="description" content="Comparision of functor, applicative and monad">
          <meta name="keywords" content="monad, applicative, monoid, functor, haskell">
        
        <title>AhaXu - (En) Comparision of functor, applicative and monad</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-9BSYYJ3166"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  gtag('config', 'G-9BSYYJ3166');
		</script>
    </head>
    <body>
        <header class="site-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <a href="../">AhaXu</a>
                    </div>
                    <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="main-nav" aria-haspopup="true" type="button">
                        <span class="sr-only">Menu</span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                
                <nav class="main-nav" id="main-nav" role="navigation" aria-label="Main navigation">
                    <button class="nav-close-btn" id="nav-close-btn" aria-label="Close navigation menu" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <a href="../" class="nav-link">Home</a>
                    <a href="../about.html" class="nav-link">About</a>
                    <a href="../tags/thơ%20thẩn.html" class="nav-link">Poetry</a>
                    <a href="../archive.html" class="nav-link">Archive</a>
                </nav>
            </div>
        </header>

        <main class="site-main">
            <div class="container">
                
                    <article class="post-content">
                        <header class="post-header">
                            <h1 class="post-title">(En) Comparision of functor, applicative and monad</h1>
                        </header>
                        <div class="post-meta">
    <time class="post-date" datetime="February  9, 2023">February  9, 2023</time>
    
        <span class="post-author">by lk</span>
    
</div>

<div class="post-body">
    <p><img src="../images/2022-12-07-recap.png" /></p>
<h2 id="outline">Outline</h2>
<p>We will dicuss about the relationship between each type class (monoid, functor, applicative, and monad).
You can discover more with the links to the relevant videos as bellow (English videos coming soon).</p>
<ul>
<li><a href="https://youtu.be/I48P7LY1LHk">Introduction to haskell type class</a></li>
<li><a href="https://youtu.be/DurtGLmG1qc">Monoid</a></li>
<li><a href="https://youtu.be/pqkNBKiYOY8">Functor</a></li>
<li><a href="https://youtu.be/h2pVUDLL82g">Applicative</a></li>
<li><a href="https://youtu.be/LhGxO9-tKzg">Monad</a></li>
</ul>
<h2 id="review-about-type-signature-of-or-flip-bind">Review about type signature of <code>($)</code>, <code>(&lt;&gt;)</code>, <code>(&lt;$&gt;)</code>, <code>(&lt;*&gt;)</code>, <code>(&gt;&gt;=)</code> or flip bind <code>(=&lt;&lt;)</code></h2>
<ul>
<li>Function application <code>($) :: (a -&gt; b) -&gt; a -&gt; b</code>
<img src="../images/2022-12-07-value-apply.png" /></li>
</ul>
<p>let’s say that function <code>f</code> has signature <code>f :: a -&gt; b</code>, we have these equivalent transformations as below</p>
<pre><code>f             :: a -&gt; b
f a           :: b                  -- apply f to a
(a -&gt; b) -&gt; a :: b                  -- replace f with (a -&gt; b)
($)           :: (a -&gt; b) -&gt; a -&gt;b</code></pre>
<p>In fact, we see lots of block of code as below</p>
<pre><code>print $ show a</code></pre>
<ul>
<li>Monoid (mappend function) <code>(&lt;&gt;) :: Semigroup m =&gt; m -&gt; m -&gt; m</code>
<img src="../images/2022-12-07-monoid-illustration.png" /></li>
</ul>
<p>We see that <code>(&lt;&gt;)</code> or <code>mappend</code> receive 2 params which have the same type (structure), and return the result which also keep the original structure (type)</p>
<pre><code>putStrLn $ &quot;hello&quot; &lt;&gt; &quot; &quot; &lt;&gt; &quot;world!&quot;</code></pre>
<ul>
<li>Functor (fmap function) <code>(&lt;$&gt;) :: Functor f =&gt; (a-&gt;b) -&gt; f a -&gt; f b</code></li>
</ul>
<p><img src="../images/2022-12-07-fmap.png" /></p>
<pre><code>(\x -&gt; x * 2) &lt;$&gt; [1..2]

getSum $ fold $ Sum &lt;$&gt; [1..5]</code></pre>
<ul>
<li>Applicative <code>(&lt;*&gt;) :: Applicative k =&gt; k (a -&gt; b) -&gt; k a -&gt; k b</code>
<img src="../images/2022-12-07-applicative-just.png" alt="apply function" /></li>
</ul>
<pre><code>pure (\x -&gt; x * 2) &lt;*&gt; [1..2]

getSum $ fold $ pure Sum &lt;*&gt; [1..5]</code></pre>
<ul>
<li>Monad (bind function) <code>(&gt;&gt;=) :: Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b</code>
<img src="../images/2022-12-07-monad-chain.png" /></li>
</ul>
<p>In real life, we see many computation cases that need to take value <code>a</code> out of the computation context (or take value <code>a</code> out of any context(structure) which denoted as <code>m</code>)</p>
<p>The sample bellow, illustrate the case that we need to take a value <code>a</code> out of <code>Maybe</code> structure, and <em>then</em> calling <code>(+)</code> function for a sum computation, and <em>then</em> put the result value into <code>Maybe</code> structure.</p>
<pre><code>maybePlus :: Maybe Int -&gt; Maybe Int -&gt; Maybe Int
maybePlus ma mb =
  case ma of
    Nothing -&gt; Nothing
    Just a -&gt;
      case mb of
        Nothing -&gt; Nothing
        Just b  -&gt; Just (a + b)

-- helper function
andThen :: Maybe a -&gt; (a -&gt; Maybe b) -&gt; Maybe b
andThen ma f =
  case ma of
    Nothing -&gt; Nothing
    Just a  -&gt; f a

-- using helper function to refactor
maybePlus' :: Maybe Int -&gt; Maybe Int -&gt; Maybe Int
maybePlus' ma mb = ma `andThen` \a -&gt; mb `andThen` \b -&gt; Just (a + b)</code></pre>
<h2 id="relation-between">Relation between <code>($) (&lt;&gt;) &lt;*&gt;</code></h2>
<pre><code>($)   ::   (a -&gt; b)   -&gt;   a -&gt;   b
(&lt;&gt;)  :: f            -&gt; f   -&gt; f 
(&lt;*&gt;) :: f (a -&gt; b)   -&gt; f a -&gt; f b</code></pre>
<p>We can see that <code>(&lt;*&gt;)</code> indeed is the combination of <code>($)</code> and <code>(&lt;&gt;)</code></p>
<h2 id="relation-between-1">Relation between <code>&lt;$&gt; (=&lt;&lt;)</code></h2>
<pre><code>(&lt;$&gt;) :: (a -&gt; b)  -&gt; f a -&gt; f b

(=&lt;&lt;) :: (a-&gt; m b) -&gt; m a -&gt; m b</code></pre>
<p>We can see that flip bind function <code>(=&lt;&lt;)</code> is the combination in order of <code>fmap</code> and <code>join :: Monad m =&gt; m (m a) -&gt; m a</code> function. You can read more about the equivalent transformations <a href="https://gitlab.com/ahaxu/haskell-tutorial-vietnamese/-/blob/master/overview/8_monad.md#ch%E1%BB%A9ng-minh-join-fmap">here</a>(<em>english version coming soon, but i hope that you can understand the equivalent transformations</em>)</p>
<h2 id="link-to-youtube-video">Link to youtube video</h2>
<ul>
<li><a href="https://youtu.be/ckUVRGETbbY">https://youtu.be/ckUVRGETbbY</a></li>
</ul>
<h2 id="ref">Ref</h2>
<ul>
<li><a href="https://gitlab.com/ahaxu/haskell-tutorial-vietnamese/-/blob/master/overview/8_monad.md">Monad tutorial in Vietnamese</a></li>
<li>Credit to <a href="https://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html">adit.io</a> about pictures about functors, applicative and monad</li>
<li><a href="https://www.michael-noll.com/blog/2013/12/02/twitter-algebird-monoid-monad-for-large-scala-data-analytics/#what-is-a-monoid">Of Algebirds, Monoids, Monads, and other Bestiary for Large-Scale Data Analytics</a></li>
</ul>
</div>

                    </article>
                
            </div>
        </main>

        <footer class="site-footer">
            <div class="container">
                <p>&copy; 2025 AhaXu - Built with Hakyll</p>
            </div>
        </footer>

        <script>
            // Mobile menu functionality with accessibility improvements
            document.addEventListener('DOMContentLoaded', function() {
                const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
                const mainNav = document.getElementById('main-nav');
                const navLinks = document.querySelectorAll('.nav-link');
                const navCloseBtn = document.getElementById('nav-close-btn');
                let isMenuOpen = false;
                
                // Focus trap for mobile menu
                function trapFocus(element) {
                    const focusableElements = element.querySelectorAll(
                        'a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'
                    );
                    const firstFocusableElement = focusableElements[0];
                    const lastFocusableElement = focusableElements[focusableElements.length - 1];
                    
                    element.addEventListener('keydown', function(e) {
                        if (e.key === 'Tab') {
                            if (e.shiftKey) {
                                if (document.activeElement === firstFocusableElement) {
                                    e.preventDefault();
                                    lastFocusableElement.focus();
                                }
                            } else {
                                if (document.activeElement === lastFocusableElement) {
                                    e.preventDefault();
                                    firstFocusableElement.focus();
                                }
                            }
                        }
                    });
                }
                
                // Toggle menu function
                function toggleMenu() {
                    isMenuOpen = !isMenuOpen;
                    
                    if (isMenuOpen) {
                        mainNav.classList.add('active');
                        mobileMenuToggle.classList.add('active');
                        mobileMenuToggle.setAttribute('aria-expanded', 'true');
                        mainNav.setAttribute('aria-hidden', 'false');
                        
                        // Focus first navigation link
                        const firstLink = mainNav.querySelector('.nav-link');
                        if (firstLink) {
                            firstLink.focus();
                        }
                        
                        // Add focus trap
                        trapFocus(mainNav);
                        
                        // Prevent body scroll
                        document.body.style.overflow = 'hidden';
                    } else {
                        closeMenu();
                    }
                }
                
                // Close menu function
                function closeMenu() {
                    isMenuOpen = false;
                    mainNav.classList.remove('active');
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuToggle.setAttribute('aria-expanded', 'false');
                    mainNav.setAttribute('aria-hidden', 'true');
                    
                    // Return focus to toggle button
                    mobileMenuToggle.focus();
                    
                    // Restore body scroll
                    document.body.style.overflow = '';
                }
                
                // Event listeners
                mobileMenuToggle.addEventListener('click', toggleMenu);
                
                // Keyboard support for toggle button
                mobileMenuToggle.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleMenu();
                    }
                });
                
                // Close menu when clicking on a link
                navLinks.forEach(link => {
                    link.addEventListener('click', closeMenu);
                });

                // Close menu when clicking on the close button
                navCloseBtn.addEventListener('click', closeMenu);
                
                // Close menu when clicking outside
                document.addEventListener('click', function(event) {
                    if (isMenuOpen && !mobileMenuToggle.contains(event.target) && !mainNav.contains(event.target) && (!navCloseBtn || !navCloseBtn.contains(event.target))) {
                        closeMenu();
                    }
                });
                
                // Close menu on Escape key
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && isMenuOpen) {
                        closeMenu();
                    }
                });
                
                // Handle window resize
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768 && isMenuOpen) {
                        closeMenu();
                    }
                });
            });
        </script>
    </body>
</html>
